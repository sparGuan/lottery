webpackJsonp([1],{1873:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(374),n=l(u),r=a(789),o=l(r),i=a(1),s=l(i),d=a(187),p=l(d),c=a(101),m=l(c),f=a(124),h=l(f),y=a(2),b=l(y),v=a(6),_=l(v),g=a(4),k=l(g),E=a(5),x=l(E),N=a(372),T=l(N);a(790),a(126),a(125),a(373);var F=a(0),C=l(F),D=(a(50),a(8)),M=(l(D),a(186)),P=a(368),B=a(369),R=(l(B),T.default.Item),S=function(e){function t(){return(0,b.default)(this,t),(0,k.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,_.default)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||(a.time=Date.parse(new Date)/1e3,t.props.onSubmit(a))})}},{key:"goBack",value:function(){this.props.dispatch(M.routerRedux.push({pathname:"/tableManager"}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:3},wrapperCol:{span:12}};return C.default.createElement("div",{className:"content-inner"},C.default.createElement("div",{style:{borderBottom:"1px solid #ddd",marginBottom:20,paddingBottom:10}},C.default.createElement(m.default,{style:{marginRight:10},onClick:this.goBack.bind(this)},"返回"),C.default.createElement(m.default,{type:"primary",onClick:this.onSubmit.bind(this)},"确认")),C.default.createElement(T.default,null,C.default.createElement(R,(0,s.default)({},t,{label:"模块"}),e("template",{initialValue:this.props.template,rules:[{required:!0,message:"请输入模块"}]})(C.default.createElement(p.default,{placeholder:"请输入模块"}))),C.default.createElement(R,(0,s.default)({},t,{label:"模块名称"}),e("template_name",{initialValue:this.props.template_name,rules:[{required:!0,message:"请输入模块名称"}]})(C.default.createElement(p.default,{placeholder:"请输入模块名称"}))),C.default.createElement(R,(0,s.default)({},t,{label:"状态"}),e("status",{valuePropName:"checked",initialValue:!!this.props.status})(C.default.createElement(o.default,{checkedChildren:"开",unCheckedChildren:"关"}))),C.default.createElement(R,(0,s.default)({},t,{label:"数据内容"}),e("cont",{initialValue:this.props.cont,rules:[{required:!0,message:"请输入模块数据内容"}]})(C.default.createElement(p.default,{type:"textarea",placeholder:'示例：[{"Field":"uid","Type":"int(10)","Null":"NO","Key":"PRI","Default":null,"Extra":"auto_increment"},{"Field":"name","Type":"varchar(20)","Null":"NO","Key":"UNI","Default":null,"Extra":""}]',autosize:{minRows:5,maxRows:10}})),C.default.createElement("div",{style:{color:"#666",marginTop:"10px",lineHeight:"18px"}},"示例：",(0,n.default)([{Field:"uid",Type:"int(10)",Null:"NO",Key:"PRI",Default:null,Extra:"auto_increment"},{Field:"name",Type:"varchar(20)",Null:"NO",Key:"UNI",Default:null,Extra:""}],null,2)))))}}]),t}(F.Component);S.contextTypes={router:F.PropTypes.object},S.defaultProps={template:"",cont:"",template_name:"",status:1,time:""},t.default=(0,P.connect)(function(e){e.tableManager;return{}})(T.default.create()(S)),e.exports=t.default},798:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(188),n=l(u),r=a(1),o=l(r),i=a(124),s=l(i),d=a(2),p=l(d),c=a(6),m=l(c),f=a(4),h=l(f),y=a(5),b=l(y);a(189);var v=a(0),_=l(v),g=a(368),k=a(1873),E=l(k),x=a(186),N=(a(50),a(369),{module:"tableManager"}),T=function(e){function t(e,a){return(0,p.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,a))}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.params&&this.props.params.id,t=this.props.dispatch;e&&t({type:"tableForm/loadTable",payload:(0,o.default)({id:e},N)})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"tableForm/resetState"})}},{key:"goBack",value:function(){this.props.dispatch(x.routerRedux.push({pathname:"/tableManager"}))}},{key:"onSubmit",value:function(e){var t=this,a=n.default.loading("正在保存...",0);this.props.dispatch({type:"tableForm/saveTable",payload:(0,o.default)({},this.props,{template:e.template,cont:e.cont,template_name:e.template_name,status:e.status,time:e.time},N,{callback:function(e){a(),e&&e.success?(n.default.success("保存成功"),t.goBack()):n.default.error("保存失败")}})})}},{key:"render",value:function(){var e=this.props;return _.default.createElement(E.default,{template:e.template,cont:e.cont,template_name:e.template_name,status:e.status,seotitle:e.seotitle,time:e.time,onSubmit:this.onSubmit.bind(this)})}}]),t}(v.Component);T.contextTypes={router:v.PropTypes.object},t.default=(0,g.connect)(function(e){var t=e.tableForm,a=e.app;return(0,o.default)({},t,{content:t.con,uid:a.user.uid,name:a.user.name})})(T),e.exports=t.default}});